<table class="min-w-full divide-y divide-gray-200 text-sm text-gray-700">
<thead class="bg-gray-50">
    <tr>
      <th class="px-6 py-3 text-left font-medium uppercase tracking-wider">ID</th>
      <th class="px-6 py-3 text-left font-medium uppercase tracking-wider">Username</th>
      <th class="px-6 py-3 text-left font-medium uppercase tracking-wider">Email</th>
      <th class="px-6 py-3 text-left font-medium uppercase tracking-wider">Content</th>
      <th class="px-6 py-3 text-left font-medium uppercase tracking-wider">Date</th>
      <th class="px-6 py-3 text-center font-medium uppercase tracking-wider">Actions</th>
    </tr>
</thead>
<tbody class="divide-y divide-gray-100 bg-white" id="user-list">
  {% if userlist|length > 0 %}
    {% for user in userlist %}
    <tr class="hover:bg-gray-50 transition card" data-id="{{ user.id }}" data-username="{{ user.username }}" data-email="{{ user.email }}" data-content="{{ user.content }}">
      <td class="px-6 py-4">{{ user.id }}</td>
      <td class="px-6 py-4 font-semibold text-gray-900">{{ user.username }}</td>
      <td class="px-6 py-4">{{ user.email }}</td>
      <td class="px-6 py-4">{{ user.content }}</td>
      <td class="px-6 py-4 text-gray-500">{{ user.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</td>
      <td class="px-6 py-4 text-center flex justify-center gap-3 items-center">
        <button class="text-blue-600 hover:text-blue-800 btn-update" data-id="{{ user.id }}" title="Update">
          <i data-lucide="edit" class="w-5 h-5"></i>
        </button>

        {# Inline form to POST to the delete route. Uses url_for to build the path. #}
        <form action="{{ url_for('delete_user', user_id=user.id) }}" method="post" class="inline" onsubmit="return confirm('Are you sure you want to delete this user?');">
          <button type="submit" class="text-red-600 hover:text-red-800" title="Delete">
            <i data-lucide="trash-2" class="w-5 h-5"></i>
          </button>
        </form>
      </td>
    </tr>
    {% endfor %}
  {% else %}
    <tr>
      <td colspan="6" class="px-6 py-4 text-center text-gray-500">No users found.</td>
    </tr>
  {% endif %}
</tbody>
</table>
